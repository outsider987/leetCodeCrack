{"version":3,"file":"054bcaaa37293504dc98.js","mappings":";;;;;;;;;;;;;;AAAsC;AACtC,mBAAmB,mDAAU;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iEAAe,IAAI,EAAC;;;;;;;;;;;;;;;;ACtFkB;AACtC,oBAAoB,mDAAU;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iEAAe,KAAK,EAAC;;;;;;;;;;;;;;;AC1BrB;AACA;AACA;AACA,iEAAe,UAAU,EAAC;;;;;;;;;;;;;;;;;;ACHA;AACE;AACE;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB,6CAAI;AAC5B,0BAA0B,+CAAM;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB,OAAO;AAC/B,4BAA4B,OAAO;AACnC,qCAAqC,8CAAK;AAC1C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB,iBAAiB;AACjC;AACA;AACA;AACA;AACA,gBAAgB,eAAe;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB,SAAS;AACzB;AACA;AACA;AACA;AACA,gBAAgB,eAAe;AAC/B,2BAA2B,sEAAsE;AACjG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iEAAe,IAAI,EAAC;;;;;;;;;;;;;;;;ACzHkB;AACtC,qBAAqB,mDAAU;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iEAAe,MAAM,EAAC;;;;;;;;;;;;;;;;;;ACnB2B;AAChB;AACjC;AACA,sBAAsB,6CAAM;AAC5B,IAAI,gDAAS;AACb;AACA;AACA;AACA,6BAA6B,oDAAI;AACjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL,WAAW,0DAAmB,aAAa,oGAAoG;AAC/I;AACA,iEAAe,QAAQ,EAAC;;;;;;;;;;;;;;;;;;ACnCE;AAC+B;AACzD;AACA,YAAY,0DAAmB,UAAU,sEAAsE;AAC/G,QAAQ,0DAAmB,CAAC,kEAAc,IAAI,kEAAkE;AAChH;AACA,iEAAe,QAAQ,EAAC","sources":["webpack://leetcodecrack/./src/canvas/Ball.ts","webpack://leetcodecrack/./src/canvas/Brick.ts","webpack://leetcodecrack/./src/canvas/DrawObject.ts","webpack://leetcodecrack/./src/canvas/Game.ts","webpack://leetcodecrack/./src/canvas/Paddle.ts","webpack://leetcodecrack/./src/components/Chart/Breakout.tsx","webpack://leetcodecrack/./src/pages/Home/Canvas/Breakout.tsx"],"sourcesContent":["import DrawObject from './DrawObject';\nclass Ball extends DrawObject {\n    constructor(ctx, x, y, radius, color, canvas) {\n        super();\n        this.x = x;\n        this.y = y;\n        this.radius = radius;\n        this.color = color;\n        this.ctx = ctx;\n        this.dx = 0;\n        this.dy = 0;\n        this.canvas = canvas;\n        this.resetX = x;\n        this.resetY = y;\n    }\n    draw() {\n        this.ctx.beginPath();\n        this.ctx.arc(this.x, this.y, this.radius, 0, 2 * Math.PI, false);\n        this.ctx.fillStyle = this.color;\n        this.ctx.fill();\n        this.ctx.closePath();\n    }\n    update() {\n        this.move();\n    }\n    move() {\n        this.x += this.dx;\n        this.y += this.dy;\n        if (this.x + this.radius * 2 > this.canvas.width || this.x - this.radius * 2 < 0) {\n            this.dx = -this.dx;\n        }\n        if (this.y + this.radius > this.canvas.height || this.y - this.radius < 0) {\n            this.dy = -this.dy;\n        }\n    }\n    checkNeedSpeedUp(count, brickLegth) {\n        if (this.dx === 0)\n            return false;\n        if (count > brickLegth / 5) {\n            let speed = 8;\n            if (this.dx > 0)\n                this.dx = speed;\n            else\n                this.dx = -speed;\n            if (this.dy > 0)\n                this.dy = speed;\n            else\n                this.dy = -speed;\n        }\n        if (count > brickLegth / 2) {\n            let speed = 11;\n            if (this.dx > 0)\n                this.dx = speed;\n            else\n                this.dx = -speed;\n            if (this.dy > 0)\n                this.dy = speed;\n            else\n                this.dy = -speed;\n        }\n    }\n    reset() {\n        this.x = this.resetX;\n        this.y = this.resetY;\n        this.dx = 0;\n        this.dy = 0;\n    }\n    start() {\n        // random true or false to start\n        this.dx = Math.random() < 0.5 ? -5 : 5;\n        this.dy = -5;\n    }\n    collide(object) {\n        let xMin = object.x;\n        let xMax = object.x + object.width;\n        let yMin = object.y;\n        let yMax = object.y + object.height;\n        if (this.x + this.radius >= xMin &&\n            this.x - this.radius <= xMax &&\n            this.y + this.radius >= yMin &&\n            this.y - this.radius <= yMax) {\n            return true;\n        }\n        return false;\n    }\n}\nexport default Ball;\n","import DrawObject from './DrawObject';\nclass Brick extends DrawObject {\n    constructor(ctx, x, y, width, height, color) {\n        super();\n        this.x = x;\n        this.y = y;\n        this.width = width;\n        this.height = height;\n        this.color = color;\n        this.status = 1;\n        this.ctx = ctx;\n        this.destroyed = false;\n    }\n    draw() {\n        if (this.status === 1) {\n            this.ctx.beginPath();\n            this.ctx.rect(this.x, this.y, this.width, this.height);\n            this.ctx.fillStyle = this.color;\n            this.ctx.fill();\n            this.ctx.closePath();\n        }\n    }\n    reset() {\n        this.destroyed = false;\n    }\n}\nexport default Brick;\n","class DrawObject {\n    constructor() { }\n}\nexport default DrawObject;\n","import Ball from './Ball';\nimport Brick from './Brick';\nimport Paddle from './Paddle';\nclass Game {\n    constructor(ctx, canvas) {\n        this.ctx = ctx;\n        this.score = 0;\n        this.canvas = canvas;\n        let cw = (canvas.width = canvas.clientWidth);\n        let ch = (canvas.height = canvas.clientHeight);\n        this.ball = new Ball(ctx, canvas.width / 2, canvas.height - 30, 10, 'white', canvas);\n        this.paddle = new Paddle(ctx, canvas.width / 2 - 50, canvas.height - 10, 100, 10, 'red');\n        this.bricks = [];\n        this.createBricks();\n        this.registerEvent(canvas, this.ball, this.paddle);\n        this.score = 0;\n        this.lives = 3;\n    }\n    createBricks() {\n        let width = this.canvas.width / 15;\n        let paddingLeft = width;\n        let height = this.canvas.height / 20;\n        let paddingTop = height;\n        for (let i = 0; i < 5; i++) {\n            for (let j = 0; j < 9; j++) {\n                this.bricks.push(new Brick(this.ctx, j * width + (paddingLeft * (j + 1)) / 2, paddingTop * (i + 1), width, height, 'yellow'));\n            }\n        }\n    }\n    draw() {\n        this.ctx.clearRect(0, 0, this.canvas.width, this.canvas.height);\n        this.drawScore();\n        this.drawLives();\n        this.drawBallY();\n        this.paddle.draw();\n        this.ball.draw();\n        this.checkCollision();\n        this.bricks.forEach((brick) => !brick.destroyed && brick.draw());\n    }\n    update() {\n        this.checkeFail();\n        this.ball.checkNeedSpeedUp(this.score, this.bricks.length);\n        this.ball.update();\n        this.checkWin();\n    }\n    checkCollision() {\n        for (const brick of this.bricks) {\n            if (this.ball.collide(brick) && !brick.destroyed) {\n                this.score++;\n                this.ball.dy = -this.ball.dy;\n                brick.destroyed = true;\n            }\n        }\n        if (this.ball.collide(this.paddle)) {\n            this.ball.dy = -this.ball.dy;\n        }\n    }\n    reset() {\n        this.ball.reset();\n        this.score = 0;\n        this.lives = 3;\n        this.bricks.forEach((brick) => brick.reset());\n    }\n    checkWin() {\n        return this.score === this.bricks.length;\n    }\n    drawScore() {\n        this.ctx.font = '16px Arial';\n        this.ctx.fillStyle = '#0095DD';\n        this.ctx.fillText('Score: ' + this.score, 8, 20);\n    }\n    drawLives() {\n        this.ctx.font = '16px Arial';\n        this.ctx.fillStyle = '#0095DD';\n        this.ctx.fillText('Lives: ' + this.lives, this.canvas.width - 65, 20);\n    }\n    drawBallY() {\n        this.ctx.font = '16px Arial';\n        this.ctx.fillStyle = '#0095DD';\n        this.ctx.fillText('Ball Y: ' + this.ball.y, this.canvas.width / 2, 20);\n    }\n    checkeFail() {\n        if (this.ball.y + this.ball.radius > this.canvas.height) {\n            this.ball.reset();\n            this.lives -= 1;\n            return true;\n        }\n    }\n    touchMove(e) {\n        const { paddle, canvas } = this;\n        const rect = canvas.getBoundingClientRect();\n        paddle.update(e.touches[0].clientX - rect.left);\n    }\n    keyDown(e) {\n        const { paddle, ball } = this;\n        let val = 0;\n        if (e.key === 'd')\n            val = paddle.x + 1;\n        else if (e.key === 'a')\n            val = paddle.x - 1;\n        if (e.code == 'Space') {\n            ball.start();\n        }\n    }\n    mouseMove(e) {\n        const { paddle } = this;\n        let mouseX = e.offsetX;\n        paddle.update(mouseX);\n    }\n    mouseDown(e) {\n        const { paddle, ball } = this;\n        if (ball.collide({ x: e.offsetX, y: e.offsetY, width: paddle.width, height: ball.radius }))\n            ball.start();\n    }\n    registerEvent(canvas, ball, paddle) {\n        canvas.addEventListener('mousemove', this.mouseMove.bind(this));\n        canvas.addEventListener('mousedown', this.mouseDown.bind(this));\n        document.addEventListener('keydown', this.keyDown.bind(this));\n        canvas.addEventListener('touchmove', this.touchMove.bind(this));\n    }\n}\nexport default Game;\n","import DrawObject from './DrawObject';\nclass Paddle extends DrawObject {\n    constructor(ctx, x, y, width, height, color) {\n        super();\n        this.x = x;\n        this.y = y;\n        this.width = width;\n        this.height = height;\n        this.color = color;\n        this.ctx = ctx;\n    }\n    draw() {\n        this.ctx.fillStyle = this.color;\n        this.ctx.fillRect(this.x, this.y, this.width, this.height);\n    }\n    update(dx) {\n        this.x = dx - this.width / 2;\n    }\n}\nexport default Paddle;\n","import React, { useRef, useEffect } from 'react';\nimport Game from '~/canvas/Game';\nconst Breakout = (props) => {\n    const canvasRef = useRef(null);\n    useEffect(() => {\n        if (canvasRef.current) {\n            const canvas = canvasRef.current;\n            const ctx = canvas.getContext('2d');\n            const game = new Game(ctx, canvas);\n            let lastTime = 0;\n            function animate(time) {\n                const delta = time - lastTime;\n                if (time > lastTime) {\n                    if (game.checkWin() || game.lives < 0) {\n                        lastTime = 0;\n                        game.lives < 0 ? alert('faile game') : alert('you win');\n                        game.score = 0;\n                        game.reset();\n                    }\n                    else {\n                        game.update();\n                        game.draw();\n                    }\n                }\n                lastTime = time;\n                requestAnimationFrame(animate);\n            }\n            function start() {\n                requestAnimationFrame(animate);\n            }\n            start();\n        }\n    }, []);\n    return React.createElement(\"canvas\", { className: \"border border-solid border-white\", ...props, ref: canvasRef, width: 1920, height: 1080 });\n};\nexport default Breakout;\n","import React from 'react';\nimport BreakoutCanvas from '~/components/Chart/Breakout';\nconst Breakout = () => {\n    return (React.createElement(\"div\", { className: \"m-auto flex w-full flex-col items-center justify-center\" },\n        React.createElement(BreakoutCanvas, { className: \"h-[50vh] w-[65vw] border border-solid border-white \" })));\n};\nexport default Breakout;\n"],"names":[],"sourceRoot":""}